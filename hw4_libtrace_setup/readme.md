# Setup Libtrace Development Environment

## Structure

1. [./.gitignore](./.gitignore): Git ignore file.
2. [./common_functions.sh](./common_functions.sh): Common bash functions used in setup and remove scripts.
3. [./config.ini](./config.ini): Configuration file.
4. [./readme.md](./readme.md): This file.
5. [./remove.sh](./remove.sh): Remove script. If error occurs, please find backup in `${program_install_dir}/backup*` and restore them.
6. [./setup.sh](./setup.sh): Setup script, for installing, configurating and compiling.

## Tested Platforms

1. WSL2 Ubuntu 22.04 LTS

## Reference

| Package           | Type    | Link                                                                                                                         |
| -------           | :--:    | ----                                                                                                                         |
| uthash            | REPO    | [https://github.com/troydhanson/uthash/tree/master](https://github.com/troydhanson/uthash/tree/master)                       |
| libwandder        | REPO    | [https://github.com/LibtraceTeam/libwandder](https://github.com/LibtraceTeam/libwandder)                                     |
| wandio            | REPO    | [https://github.com/LibtraceTeam/wandio](https://github.com/LibtraceTeam/wandio)                                             |
| wandio            | INSTALL | [https://github.com/LibtraceTeam/wandio/blob/master/INSTALL](https://github.com/LibtraceTeam/wandio/blob/master/INSTALL)     |
| libtrace          | REPO    | [https://github.com/LibtraceTeam/libtrace](https://github.com/LibtraceTeam/libtrace)                                         |
| libtrace          | INSTALL | [https://github.com/LibtraceTeam/libtrace/blob/master/INSTALL](https://github.com/LibtraceTeam/libtrace/blob/master/INSTALL) |
| libtrace_tutorial | REPO    | [https://github.com/ylai/libtrace_tutorial](https://github.com/ylai/libtrace_tutorial)                                       |

## Debug

1. wget and curl can't resolve host in WSL2 environment
    1. Edit `/etc/resolv.conf` as following:
        ```bash
        # This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
        # [network]
        # generateResolvConf = false
        nameserver 1.1.1.1
        ```
    1. Optional, edit `/etc/wsl.conf` to contain following network section:
        ```bash
        [network]
        generateResolveConf = false
        ```
        
## Commands

1. Changes monitoring: 
   ```bash
   while true; do sleep 1; clear; echo -e "/usr/local/include"; ls /usr/local/include; echo -e "\n/usr/local/lib"; ls /usr/local/lib; echo -e "\n/opt"; ls /opt; done
   ```
